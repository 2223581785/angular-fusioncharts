/*! angular-fusioncharts - v0.0.1-alpha.3*/

!function(){var a=angular.module("ng-fusioncharts",[]);a.directive("fcChart",["$http",function(){return{scope:{fcWidth:"@",fcHeight:"@",fcDataset:"@",fcCategories:"@",fcChartAttrs:"@",fcDataplotClick:"@",fcChartClick:"@"},link:function(a,b,c){var d=null,e={dataplotClick:function(b,d){c.fcDataplotClick&&a.$apply(function(){a.$parent[c.fcDataplotClick](b,d)})},chartClick:function(b,d){c.fcChartClick&&a.$apply(function(){a.$parent[c.fcChartClick](b,d)})}};if(c.fcConfig)d=new FusionCharts(a[c.fcConfig]),a[c.fcChartObject]=d,d.render();else if(c.fcJsonUrl){var f={type:c.fcType,width:c.fcWidth,height:c.fcHeight,renderAt:b[0],dataFormat:"json",events:e};d=new FusionCharts(f),d.setJSONUrl(c.fcJsonUrl),a[c.fcChartObject]=d,d.render()}else{var f={type:c.fcType,width:c.fcWidth,height:c.fcHeight,renderAt:b[0],dataFormat:c.fcDataFormat||"json",dataSource:{},events:e};c.$observe("fcWidth",function(){d.resizeTo(a.fcWidth,a.fcHeight)}),c.$observe("fcHeight",function(){d.resizeTo(a.fcWidth,a.fcHeight)}),c.fcDatasource?(f.dataSource=a[c.fcDatasource],c.$observe("fcDatasource",function(a){"jsonurl"===f.dataFormat?d.setJSONUrl(a):"json"===f.dataFormat&&d.setJSONData(JSON.parse(a))},!0)):(c.$observe("fcChartAttrs",function(a){setTimeout(function(){f.dataSource.chart=JSON.parse(a),d.setJSONData(f.dataSource)},0)},!0),c.fcData&&c.$observe("fcData",function(a){setTimeout(function(){f.dataSource.data=JSON.parse(a),d.setJSONData(f.dataSource)},0)},!0),c.fcCategories&&c.$observe("fcCategories",function(a){setTimeout(function(){f.dataSource.categories=JSON.parse(a),d.setJSONData(f.dataSource)},0)},!0),c.fcDataset&&c.$observe("fcDataset",function(a){setTimeout(function(){f.dataSource.dataset=JSON.parse(a),d.setJSONData(f.dataSource)})},!0));var d=new FusionCharts(f);a[c.fcChartObject]=d,d.render()}}}}])}();